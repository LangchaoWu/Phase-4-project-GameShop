(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(15),i=n.n(s),r=(n(22),n(2)),l=(n(23),n(5)),j=n(6),o=n(7),u=n(3),m=n(0);var d=function(e){var t=e.isLogin,n=e.setIsLogin,a=e.isAdmin,s=e.setIsAdmin,i=e.currentUser,d=e.setCurrentUser,b=e.carts,O=Object(u.f)(),h=Object(c.useState)(!1),x=Object(r.a)(h,2),f=x[0],g=x[1];return Object(m.jsxs)("nav",{className:"nav-container",children:[Object(m.jsx)(l.a,{className:"menubars",icon:j.d,onClick:function(){return g((function(e){return!e}))}}),Object(m.jsxs)("div",{className:"logo",onClick:function(){O("/home")},children:[Object(m.jsx)(l.a,{className:"game-icon",icon:j.l}),Object(m.jsx)("h1",{children:"GameShop"})]}),f?Object(m.jsxs)("div",{className:"nav-links-active",children:[Object(m.jsx)(o.c,{to:"/home",className:"nav-link-text",children:Object(m.jsx)("h2",{className:"nav-link-text",children:"Home"})}),Object(m.jsx)(o.c,{to:"/PlayStation",className:"nav-link-text",children:Object(m.jsx)("h2",{className:"nav-link-text",children:"PlayStation"})}),Object(m.jsx)(o.c,{to:"/Xbox",className:"nav-link-text",children:Object(m.jsx)("h2",{className:"nav-link-text",children:"Xbox"})}),Object(m.jsx)(o.c,{to:"/NintendoSwitch",className:"nav-link-text",children:Object(m.jsx)("h2",{className:"nav-link-text",children:"Nintendo Switch"})})]}):Object(m.jsxs)("div",{className:"nav-links",children:[Object(m.jsx)(o.c,{to:"/home",className:"nav-link-text",children:Object(m.jsx)("h2",{className:"nav-link-text",children:"Home"})}),Object(m.jsx)(o.c,{to:"/PlayStation",className:"nav-link-text",children:Object(m.jsx)("h2",{className:"nav-link-text",children:"PlayStation"})}),Object(m.jsx)(o.c,{to:"/Xbox",className:"nav-link-text",children:Object(m.jsx)("h2",{className:"nav-link-text",children:"Xbox"})}),Object(m.jsx)(o.c,{to:"/NintendoSwitch",className:"nav-link-text",children:Object(m.jsx)("h2",{className:"nav-link-text",children:"Nintendo Switch"})})]}),Object(m.jsxs)("div",{className:"icons",children:[a?Object(m.jsx)(l.a,{className:"fa-solid",icon:j.r,onClick:function(){return O("/admin")}}):null,t?Object(m.jsx)("div",{className:"user-name",children:Object(m.jsxs)("span",{children:["Hi,  ",i.username]})}):null,t?Object(m.jsx)(l.a,{className:"fa-solid",icon:j.c,onClick:function(){fetch("/logout",{method:"DELETE"}).then((function(){n(!1),d({}),s(!1)}))}}):Object(m.jsx)(o.c,{to:"/login",className:"Nav-link",children:Object(m.jsx)(l.a,{className:"fa-solid",icon:j.q})}),Object(m.jsxs)("div",{className:"cart-container",children:[0===b.length?null:Object(m.jsx)("span",{className:"num",children:b.length}),Object(m.jsx)(l.a,{className:"cart",icon:j.f,onClick:function(){return O("/cart")}})]})]})]})};var b=function(e){var t=e.setCurrentUser,n=e.setIsLogin,a=e.setIsAdmin,s=e.setCarts,i=Object(c.useState)(""),l=Object(r.a)(i,2),j=l[0],d=l[1],b=Object(c.useState)(""),O=Object(r.a)(b,2),h=O[0],x=O[1],f=Object(u.f)(),g=Object(c.useState)([]),v=Object(r.a)(g,2),p=v[0],N=v[1];return Object(m.jsx)("div",{className:"login-container",children:Object(m.jsxs)("form",{className:"inputs",onSubmit:function(e){e.preventDefault();var c={username:j.toLowerCase(),password:h};fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){e.ok?e.json().then((function(e){console.log(e),e.admin&&a(!0),t(e),n(!0),s(e.carts),f("/home")})):e.json().then((function(e){return N(e.error)}))}))},children:[Object(m.jsx)("label",{children:"USERNAME"}),Object(m.jsx)("input",{type:"name",value:j,onChange:function(e){return d(e.target.value)}}),Object(m.jsx)("label",{children:"PASSWORD"}),Object(m.jsx)("input",{type:"password",value:h,onChange:function(e){return x(e.target.value)}}),p?Object(m.jsx)("div",{className:"error-message",children:p}):null,Object(m.jsx)("button",{type:"submit",children:"LOGIN"}),Object(m.jsxs)("p",{className:"Sign-up-link",children:["Don't have an account?",Object(m.jsx)(o.b,{to:"/create",className:"go-to-sign-up",children:"Sign up"})]})]})})};var O=function(e){var t=e.setCurrentUser,n=e.setIsLogin,a=e.setCarts,s=Object(c.useState)(""),i=Object(r.a)(s,2),l=i[0],j=i[1],d=Object(c.useState)(""),b=Object(r.a)(d,2),O=b[0],h=b[1],x=Object(c.useState)([]),f=Object(r.a)(x,2),g=f[0],v=f[1],p=Object(u.f)();return Object(m.jsx)("div",{className:"create-container",children:Object(m.jsxs)("form",{className:"inputs",onSubmit:function(e){e.preventDefault();var c={username:l.toLowerCase(),password:O,admin:!1};fetch("/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?v(e.error):(t(e),n(!0),a(e.carts),p("/home"))}))},children:[Object(m.jsx)("label",{children:"USERNAME"}),Object(m.jsx)("input",{type:"name",value:l,onChange:function(e){return j(e.target.value)}}),Object(m.jsx)("label",{children:"PASSWORD"}),Object(m.jsx)("input",{type:"password",value:O,onChange:function(e){return h(e.target.value)}}),g?g.map((function(e,t){return Object(m.jsx)("div",{className:"error-message",children:e},t)})):null,Object(m.jsx)("button",{type:"submit",children:"Sign Up"}),Object(m.jsxs)("p",{className:"login-link",children:["Already have an account?",Object(m.jsx)(o.b,{to:"/login",className:"go-to-login",children:"Login"})]})]})})};var h=function(){return Object(m.jsx)("div",{className:"error",children:"Page not found!"})},x=[{name:"PlayStation",image:"https://cdn.vox-cdn.com/thumbor/UjU-Gxu21JDeEHZeUDgQiRRfqjM=/0x0:2560x1440/1200x800/filters:focal(1076x516:1484x924)/cdn.vox-cdn.com/uploads/chorus_image/image/66934585/ishMfuW.0.png"},{name:"NintendoSwitch",image:"https://cdn.mos.cms.futurecdn.net/qUjqftG8PXZPRrc9Bty6r3.jpg"},{name:"Xbox",image:"https://i.ytimg.com/vi/RzkvucOWM2s/maxresdefault.jpg"}];var f=function(){var e=Object(c.useState)(0),t=Object(r.a)(e,2),n=t[0],a=t[1],s=x.length,i=Object(u.f)();return Object(m.jsxs)("div",{className:"image-slider-container",children:[Object(m.jsx)(l.a,{className:"slide-left-arrow",icon:j.g,onClick:function(){a(0===n?s-1:n-1)}}),x.map((function(e,t){return Object(m.jsx)("div",{className:n===t?"slide active":"slide",children:n===t?Object(m.jsxs)("div",{children:["  ",Object(m.jsx)("img",{src:e.image,alt:e.name,className:"slide-image"},t),Object(m.jsx)("button",{className:"shop-now-btn",onClick:function(){i("/".concat(e.name))},children:"Shop Now"})]}):null},t)})),Object(m.jsx)(l.a,{className:"slide-right-arrow",icon:j.h,onClick:function(){a(n===s-1?0:n+1)}})]})};var g=function(e){var t=e.game,n=e.isAdmin,c=Object(u.f)();return Object(m.jsxs)("div",{className:"card-container",onClick:function(){return c("/games/".concat(t.id))},children:[Object(m.jsx)("div",{className:"image-container",children:Object(m.jsx)("img",{src:t.image,alt:t.name})}),Object(m.jsxs)("div",{className:"card-content",children:[Object(m.jsx)("p",{className:"card-name",children:t.name}),Object(m.jsxs)("p",{className:"card-price",children:["$",t.price]})]}),Object(m.jsxs)("div",{className:"card-btn",children:[n?Object(m.jsx)(l.a,{className:"admin-edit",icon:j.n,onClick:function(e){e.stopPropagation(),c("/update/".concat(t.id))}}):null,Object(m.jsx)(l.a,{className:"add-btn",icon:j.e})]})]})};var v=function(e){var t=e.searchText,n=e.onSearchTextChangeHanler,a=e.onfilterChange,s=Object(c.useState)("Featured"),i=Object(r.a)(s,2),o=i[0],u=i[1];return Object(m.jsx)("div",{className:"search-container",children:Object(m.jsxs)("div",{className:"search",children:[Object(m.jsx)("div",{className:"search-icon",children:Object(m.jsx)(l.a,{icon:j.m})}),Object(m.jsx)("input",{name:"searchText",placeholder:"Search games...",value:t,onChange:function(e){n(e.target.value)}}),Object(m.jsxs)("div",{className:"sort",children:[Object(m.jsx)("label",{htmlFor:"sortby",children:"Sort by:"}),Object(m.jsxs)("select",{id:"sortList",className:"sortList",value:o,onChange:function(e){u(e.target.value),a(e.target.value)},children:[Object(m.jsx)("option",{value:"Featured",children:"Featured"}),Object(m.jsx)("option",{value:"NameAZ",children:"Name( A - Z )"}),Object(m.jsx)("option",{value:"NameZA",children:"Name( Z - A )"}),Object(m.jsx)("option",{value:"PriceHtoL",children:"Price(high to low)"}),Object(m.jsx)("option",{value:"PriceLtoH",children:"Price(low to high)"})]})]})]})})};var p=function(e){for(var t=e.gamesPerPage,n=e.totalGames,c=e.paginate,a=e.currentPage,s=e.setCurrentPage,i=[],r=1;r<=Math.ceil(n/t);r++)i.push(r);return Object(m.jsxs)("div",{className:"pagination-container",children:[i.length<2?null:Object(m.jsx)(l.a,{className:"pagination-arrow",icon:j.a,onClick:function(){1!==a&&s((function(e){return--e}))}}),i.map((function(e){return a===e?Object(m.jsx)("p",{className:"page-number-active",onClick:function(){return c(e)},children:e},e):Object(m.jsx)("p",{className:"page-number",onClick:function(){return c(e)},children:e},e)})),i.length<2?null:Object(m.jsx)(l.a,{className:"pagination-arrow",icon:j.b,onClick:function(){a<i.length&&s((function(e){return++e}))}})]})};var N=function(e){var t=e.games,n=e.isAdmin,a=Object(c.useState)(1),s=Object(r.a)(a,2),i=s[0],l=s[1],j=Object(c.useState)(""),o=Object(r.a)(j,2),u=o[0],d=o[1],b=Object(c.useState)(t),O=Object(r.a)(b,2),h=O[0],x=O[1],f=Object(c.useState)(!1),N=Object(r.a)(f,2),S=N[0],C=N[1],y=t.filter((function(e){return e.name.toLowerCase().includes(u.toLowerCase())})),k=h.filter((function(e){return e.name.toLowerCase().includes(u.toLowerCase())})),P=8*i,w=P-8,L=y.slice(w,P),A=k.slice(w,P);return Object(m.jsxs)("div",{className:"page-container",children:[Object(m.jsx)("div",{children:Object(m.jsx)(v,{searchText:u,onSearchTextChangeHanler:function(e){d(e)},onfilterChange:function(e){if("Featured"===e)C(!1);else if("NameAZ"===e){var t=y.sort((function(e,t){return e.name.localeCompare(t.name)}));C(!0),x(t)}else if("NameZA"===e){var n=y.sort((function(e,t){return e.name.localeCompare(t.name)})).reverse();C(!0),x(n)}else if("PriceHtoL"===e){var c=y.sort((function(e,t){return t.price-e.price}));C(!0),x(c)}else if("PriceLtoH"===e){var a=y.sort((function(e,t){return e.price-t.price}));C(!0),x(a)}}})}),Object(m.jsx)("div",{className:"games-container",children:S?A.map((function(e){return Object(m.jsx)(g,{game:e},e.id)})):L.map((function(e){return Object(m.jsx)(g,{game:e,isAdmin:n},e.id)}))}),Object(m.jsx)("div",{className:"pagination",children:Object(m.jsx)(p,{gamesPerPage:8,totalGames:t.length,paginate:function(e){l(e)},currentPage:i,setCurrentPage:l})})]})};var S=function(e){var t=e.games,n=e.isAdmin,a=Object(c.useState)(1),s=Object(r.a)(a,2),i=s[0],l=s[1],j=Object(c.useState)(""),o=Object(r.a)(j,2),u=o[0],d=o[1],b=Object(c.useState)(t),O=Object(r.a)(b,2),h=O[0],x=O[1],f=Object(c.useState)(!1),N=Object(r.a)(f,2),S=N[0],C=N[1],y=t.filter((function(e){return e.name.toLowerCase().includes(u.toLowerCase())})),k=h.filter((function(e){return e.name.toLowerCase().includes(u.toLowerCase())})),P=8*i,w=P-8,L=y.slice(w,P),A=k.slice(w,P);return Object(m.jsxs)("div",{className:"page-container",children:[Object(m.jsx)("div",{children:Object(m.jsx)(v,{searchText:u,onSearchTextChangeHanler:function(e){d(e)},onfilterChange:function(e){if("Featured"===e)C(!1);else if("NameAZ"===e){var t=y.sort((function(e,t){return e.name.localeCompare(t.name)}));C(!0),x(t)}else if("NameZA"===e){var n=y.sort((function(e,t){return e.name.localeCompare(t.name)})).reverse();C(!0),x(n)}else if("PriceHtoL"===e){var c=y.sort((function(e,t){return t.price-e.price}));C(!0),x(c)}else if("PriceLtoH"===e){var a=y.sort((function(e,t){return e.price-t.price}));C(!0),x(a)}}})}),Object(m.jsx)("div",{className:"games-container",children:S?A.map((function(e){return Object(m.jsx)(g,{game:e},e.id)})):L.map((function(e){return Object(m.jsx)(g,{game:e,isAdmin:n},e.id)}))}),Object(m.jsx)("div",{className:"pagination",children:Object(m.jsx)(p,{gamesPerPage:8,totalGames:t.length,paginate:function(e){l(e)},currentPage:i,setCurrentPage:l})})]})};var C=function(e){var t=e.games,n=e.isAdmin,a=Object(c.useState)(1),s=Object(r.a)(a,2),i=s[0],l=s[1],j=Object(c.useState)(""),o=Object(r.a)(j,2),u=o[0],d=o[1],b=Object(c.useState)(t),O=Object(r.a)(b,2),h=O[0],x=O[1],f=Object(c.useState)(!1),N=Object(r.a)(f,2),S=N[0],C=N[1],y=t.filter((function(e){return e.name.toLowerCase().includes(u.toLowerCase())})),k=h.filter((function(e){return e.name.toLowerCase().includes(u.toLowerCase())})),P=8*i,w=P-8,L=y.slice(w,P),A=k.slice(w,P);return Object(m.jsxs)("div",{className:"page-container",children:[Object(m.jsx)("div",{children:Object(m.jsx)(v,{searchText:u,onSearchTextChangeHanler:function(e){d(e)},onfilterChange:function(e){if("Featured"===e)C(!1);else if("NameAZ"===e){var t=y.sort((function(e,t){return e.name.localeCompare(t.name)}));C(!0),x(t)}else if("NameZA"===e){var n=y.sort((function(e,t){return e.name.localeCompare(t.name)})).reverse();C(!0),x(n)}else if("PriceHtoL"===e){var c=y.sort((function(e,t){return t.price-e.price}));C(!0),x(c)}else if("PriceLtoH"===e){var a=y.sort((function(e,t){return e.price-t.price}));C(!0),x(a)}}})}),Object(m.jsx)("div",{className:"games-container",children:S?A.map((function(e){return Object(m.jsx)(g,{game:e},e.id)})):L.map((function(e){return Object(m.jsx)(g,{game:e,isAdmin:n},e.id)}))}),Object(m.jsx)("div",{className:"pagination",children:Object(m.jsx)(p,{gamesPerPage:8,totalGames:t.length,paginate:function(e){l(e)},currentPage:i,setCurrentPage:l})})]})},y=n(11),k=n(17);var P=function(e){var t=e.currentUser,n=e.carts,a=e.setCarts,s=e.isAdmin,i=Object(c.useState)({}),o=Object(r.a)(i,2),d=o[0],b=o[1],O=Object(u.g)(),h=Object(c.useState)(d.image),x=Object(r.a)(h,2),f=x[0],g=x[1],v=Object(c.useState)(d.id),p=Object(r.a)(v,2),N=p[0],S=p[1],C=Object(c.useState)([]),P=Object(r.a)(C,2),w=P[0],L=P[1],A=Object(c.useState)([]),T=Object(r.a)(A,2),E=T[0],U=T[1],D=Object(c.useState)([]),H=Object(r.a)(D,2),I=H[0],G=H[1],R=Object(c.useState)(""),_=Object(r.a)(R,2),Z=_[0],F=_[1],J=Object(c.useState)(!1),M=Object(r.a)(J,2),X=M[0],W=M[1],q=Object(c.useState)(""),$=Object(r.a)(q,2),z=$[0],B=$[1],Q=Object(c.useState)(!1),V=Object(r.a)(Q,2),K=V[0],Y=V[1],ee=Object(u.f)();return Object(c.useEffect)((function(){fetch("/games/".concat(O.id)).then((function(e){return e.json()})).then((function(e){b(e),g(e.image),L(e.images),U(e.features),G(e.reviews),S(e.id)}))}),[]),Object(m.jsxs)("div",{className:"detail-container",children:[Object(m.jsxs)("div",{className:"detail-container-2",children:[Object(m.jsxs)("div",{className:"game-detail-section",children:[Object(m.jsxs)("div",{className:"game-image-section",children:[s?Object(m.jsx)(l.a,{className:"add-img",icon:j.j,onClick:function(){return W(!X)}}):null,X?Object(m.jsx)("div",{className:"add-form",onSubmit:function(e){e.preventDefault();var t={imgurl:Z,game_id:d.id};fetch("/images",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?(console.log(e.error),W(!1),F("")):(L([].concat(Object(y.a)(w),[e])),F(""),W(!1))}))},children:Object(m.jsxs)("form",{className:"add-img-form",children:[Object(m.jsx)("label",{children:"Image"}),Object(m.jsx)("input",{name:"image",value:Z,onChange:function(e){return F(e.target.value)}}),Object(m.jsx)("button",{type:"submit",children:"add image"})]})}):null,Object(m.jsxs)("div",{className:"game-main-image",children:[Object(m.jsx)("img",{src:f,alt:d.name}),s?Object(m.jsx)(l.a,{icon:j.i,className:"image-delete",onClick:function(){fetch("/images/".concat(N),{method:"DELETE"}).then((function(){if(d.id===N)console.log("cant delete this picture");else{console.log(w),console.log(f.id);var e=w.filter((function(e){return e.id!==N}));console.log(e),L(e)}}))}}):null]}),Object(m.jsxs)("div",{className:"game-feature-image",children:[Object(m.jsx)("div",{className:"game-image-slide",onClick:function(){g(d.image),S(d.id)},children:Object(m.jsx)("img",{alt:d.name,src:d.image})}),w.map((function(e){return Object(m.jsx)("div",{className:"game-image-slide",onClick:function(){g(e.imgurl),S(e.id)},children:Object(m.jsx)("img",{alt:e.imgurl,src:e.imgurl})},e.id)}))]})]}),Object(m.jsxs)("div",{className:"game-feature-section",children:[Object(m.jsxs)("div",{className:"Feature-text",children:[Object(m.jsx)("h1",{children:"Features"}),s?Object(m.jsx)(l.a,{className:"add-feature",icon:j.j,onClick:function(){return Y(!K)}}):null,K?Object(m.jsx)("div",{className:"add-features-form",onSubmit:function(e){e.preventDefault();var t={description:z,game_id:d.id};fetch("/features",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?(console.log(e.error),Y(!1),B("")):(U([].concat(Object(y.a)(E),[e])),B(""),Y(!1))}))},children:Object(m.jsxs)("form",{className:"add-img-form",children:[Object(m.jsx)("label",{children:"Feature"}),Object(m.jsx)("input",{name:"image",value:z,onChange:function(e){return B(e.target.value)}}),Object(m.jsx)("button",{type:"submit",children:"add feature"})]})}):null]}),Object(m.jsx)("ul",{children:E.map((function(e){return Object(m.jsxs)("li",{children:[e.description,"    ",s?Object(m.jsx)(l.a,{icon:j.i,className:"feature-delete",onClick:function(){return t=e.id,void fetch("/features/".concat(t),{method:"DELETE"}).then((function(){var e=E.filter((function(e){return e.id!==t}));U(e)}));var t}}):null," "]},e.id)}))})]})]}),Object(m.jsxs)("div",{className:"game-text-section",children:[Object(m.jsxs)("div",{className:"game-name-price",children:[Object(m.jsx)("h1",{children:d.name}),Object(m.jsxs)("h2",{children:["$",d.price]})]}),Object(m.jsx)("div",{className:"add-button-to-cart",children:Object(m.jsx)("button",{onClick:function(){var e={user_id:t.id,game_id:d.id};0!==Object.keys(t).length?fetch("/carts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e),a([].concat(Object(y.a)(n),[e]))})):ee("/login")},children:"Add to cart"})}),Object(m.jsxs)("div",{className:"delivery",children:[Object(m.jsxs)("div",{className:"ship-info",children:[Object(m.jsx)("div",{children:Object(m.jsx)("span",{children:Object(m.jsx)(l.a,{className:"truck-icon",icon:j.p})})}),Object(m.jsxs)("div",{className:"ship-content",children:[Object(m.jsxs)("span",{className:"free-shipping",children:["FREE Shipping ",Object(m.jsx)("span",{className:"free-ship-order",children:"on orders $35+"})]}),Object(m.jsx)("div",{children:Object(m.jsx)("span",{className:"arrive-time",children:"Arrives in 2 - 5 days"})})]})]}),Object(m.jsxs)("div",{className:"ship-info",children:[Object(m.jsx)("div",{children:Object(m.jsx)("span",{children:Object(m.jsx)(l.a,{className:"truck-icon",icon:k.a})})}),Object(m.jsxs)("div",{className:"ship-content",children:[Object(m.jsx)("span",{className:"free-shipping",children:"Deliver Today "}),Object(m.jsx)("div",{children:Object(m.jsxs)("span",{className:"arrive-time",children:["Check same day availability ",Object(m.jsx)("span",{className:"verify-address",children:"Verify Address"})]})})]})]}),Object(m.jsxs)("div",{className:"ship-info",children:[Object(m.jsx)("div",{children:Object(m.jsx)("span",{children:Object(m.jsx)(l.a,{className:"truck-icon",icon:j.o})})}),Object(m.jsxs)("div",{className:"ship-content",children:[Object(m.jsx)("span",{className:"free-shipping",children:"Pick up TOMORROW"}),Object(m.jsx)("div",{children:Object(m.jsx)("span",{className:"in-stock",children:"In stock"})})]})]})]})]})]}),Object(m.jsx)("div",{className:"review-container",children:Object(m.jsxs)("div",{className:"review-section",children:[Object(m.jsx)("h1",{children:"Reviews"}),0!==I.length?I.map((function(e){return Object(m.jsx)("div",{className:"review-block",children:Object(m.jsxs)("div",{className:"review-text",children:[Object(m.jsxs)("h2",{children:[Object(m.jsx)(l.a,{icon:j.k})," ",e.user.username]}),Object(m.jsxs)("span",{children:["Rating: ",e.rating,".0"]}),Object(m.jsxs)("p",{children:["Comment: ",e.comment]})]})},e.id)})):Object(m.jsx)("div",{className:"review-block-empty",children:Object(m.jsx)("h2",{children:"No reviews"})})]})})]})},w=n(13),L=n(10);var A=function(e){var t=e.games,n=e.setGames,a=Object(u.f)(),s=Object(c.useState)([]),i=Object(r.a)(s,2),l=i[0],j=i[1],o=Object(c.useState)({name:"",price:"",image:"",game_type:"PS5"}),d=Object(r.a)(o,2),b=d[0],O=d[1];function h(e){O(Object(L.a)(Object(L.a)({},b),{},Object(w.a)({},e.target.name,e.target.value)))}return Object(m.jsx)("div",{className:"admin-container",children:Object(m.jsxs)("form",{className:"inputs",onSubmit:function(e){e.preventDefault(),fetch("/games",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?j(e.error):(n([].concat(Object(y.a)(t),[e])),a("/home"))}))},children:[Object(m.jsx)("label",{children:"Game Name"}),Object(m.jsx)("input",{name:"name",value:b.name,onChange:h}),Object(m.jsx)("label",{children:"Price"}),Object(m.jsx)("input",{name:"price",value:b.price,onChange:h}),Object(m.jsx)("label",{children:"Image"}),Object(m.jsx)("input",{name:"image",value:b.image,onChange:h}),Object(m.jsx)("label",{children:"Game-type"}),Object(m.jsxs)("select",{name:"game_type",className:"game-type",value:b.game_type,onChange:h,children:[Object(m.jsx)("option",{value:"PS5",children:"PlayStation 5"}),Object(m.jsx)("option",{value:"xbox",children:"Xbox"}),Object(m.jsx)("option",{value:"ns",children:"Nintendo Switch"})]}),l?l.map((function(e,t){return Object(m.jsx)("div",{className:"error-message",children:e},t)})):null,Object(m.jsx)("button",{type:"submit",children:"Create"})]})})};var T=function(e){var t=e.games,n=e.setGames,a=Object(u.g)(),s=Object(c.useState)({}),i=Object(r.a)(s,2),l=i[0],j=i[1],o=Object(c.useState)(""),d=Object(r.a)(o,2),b=d[0],O=d[1],h=Object(c.useState)(""),x=Object(r.a)(h,2),f=x[0],g=x[1],v=Object(u.f)();return Object(c.useEffect)((function(){fetch("/games/".concat(a.id)).then((function(e){return e.json()})).then((function(e){console.log(e),j(e),O(e.name),g(e.price)}))}),[]),Object(m.jsxs)("div",{className:"update-container",children:[Object(m.jsxs)("form",{className:"inputs",onSubmit:function(e){e.preventDefault();var c=Object(L.a)(Object(L.a)({},l),{},{name:b,price:f});fetch("/games/".concat(l.id),{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){var c=t.map((function(t){return t.id===e.id?e:t}));n(c),v("/games/".concat(e.id))}))},children:[Object(m.jsx)("label",{children:"Name"}),Object(m.jsx)("input",{type:"name",name:"name",value:b,onChange:function(e){O(e.target.value)}}),Object(m.jsx)("label",{children:"Price"}),Object(m.jsx)("input",{type:"price",name:"price",value:f,onChange:function(e){g(e.target.value)}}),Object(m.jsx)("button",{type:"submit",children:"upadate"})]}),Object(m.jsx)("button",{onClick:function(){fetch("/games/".concat(l.id),{method:"DELETE"}).then((function(){var e=t.filter((function(e){return e.id!==l.id}));n(e),v("/home")}))},children:"delete"})]})};var E=function(e){var t=e.currentUser,n=e.carts,c=e.setCarts;console.log(n);var a=Object(u.f)();return Object(m.jsxs)("div",{className:"cart-page-container",children:[Object(m.jsx)("div",{className:"cart-info",children:n.map((function(e){return Object(m.jsx)("div",{className:"cart-item-container",children:Object(m.jsxs)("div",{className:"item",children:[Object(m.jsx)("div",{className:"item-img",children:Object(m.jsx)("img",{src:e.game.image,alt:e.game.name})}),Object(m.jsxs)("div",{className:"item-text",children:[Object(m.jsx)("h1",{children:e.game.name}),Object(m.jsxs)("h1",{children:["$",e.game.price]})]})]})},e.id)}))}),Object(m.jsx)("div",{className:"check-out-btn",children:Object(m.jsx)("button",{onClick:function(){fetch("/carts_delete/".concat(t.id),{method:"DELETE"}).then((function(){a("/home"),c([])}))},children:"Check out"})})]})};var U=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),i=Object(r.a)(s,2),l=i[0],j=i[1],o=Object(c.useState)([]),x=Object(r.a)(o,2),g=x[0],v=x[1],p=Object(c.useState)({}),y=Object(r.a)(p,2),k=y[0],w=y[1],L=Object(c.useState)([]),U=Object(r.a)(L,2),D=U[0],H=U[1];Object(c.useEffect)((function(){fetch("/authorized_user").then((function(e){return e.json()})).then((function(e){e&&(a(!0),w(e),H(e.carts),e.admin&&j(!0))})),fetch("/games").then((function(e){return e.json()})).then((function(e){v(e)}))}),[]);var I=g.filter((function(e){return"PS5"===e.game_type})),G=g.filter((function(e){return"xbox"===e.game_type})),R=g.filter((function(e){return"ns"===e.game_type}));return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(d,{isLogin:n,setIsLogin:a,isAdmin:l,setIsAdmin:j,currentUser:k,setCurrentUser:w,carts:D}),Object(m.jsxs)(u.c,{children:[Object(m.jsx)(u.a,{path:"/login",element:Object(m.jsx)(b,{setCurrentUser:w,setIsLogin:a,setIsAdmin:j,setCarts:H})}),Object(m.jsx)(u.a,{path:"/create",element:Object(m.jsx)(O,{setCurrentUser:w,setIsLogin:a,setCarts:H})}),Object(m.jsx)(u.a,{path:"/home",element:Object(m.jsx)(f,{})}),Object(m.jsx)(u.a,{path:"/PlayStation",element:Object(m.jsx)(N,{games:I,isAdmin:l})}),Object(m.jsx)(u.a,{path:"/NintendoSwitch",element:Object(m.jsx)(S,{games:R,isAdmin:l})}),Object(m.jsx)(u.a,{path:"/Xbox",element:Object(m.jsx)(C,{games:G,isAdmin:l})}),Object(m.jsx)(u.a,{path:"/games/:id",element:Object(m.jsx)(P,{currentUser:k,carts:D,setCarts:H,isAdmin:l})}),Object(m.jsx)(u.a,{path:"/admin",element:Object(m.jsx)(A,{games:g,setGames:v})}),Object(m.jsx)(u.a,{path:"/update/:id",element:Object(m.jsx)(T,{games:g,setGames:v})}),Object(m.jsx)(u.a,{path:"*",element:Object(m.jsx)(h,{})}),Object(m.jsx)(u.a,{path:"/cart",element:Object(m.jsx)(E,{currentUser:k,carts:D,setCarts:H})})]})]})};i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(o.a,{children:Object(m.jsx)(U,{})})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.d7470e91.chunk.js.map